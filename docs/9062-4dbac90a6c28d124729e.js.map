{"version":3,"file":"9062-4dbac90a6c28d124729e.js","mappings":"uIAAA,uiD","sources":["webpack://embla-carousel-docs/./src/components/Sandbox/Vanilla/SandboxFilesDist/Predefined/LazyLoad/EmblaCarouselLazyLoad.js"],"sourcesContent":["export default \"\\nexport const setupLazyLoadImage = (emblaApi) => {\\n    const imagesInView = [];\\n    const slideNodes = emblaApi.slideNodes();\\n    const spinnerNodes = slideNodes.map((slideNode) => slideNode.querySelector('.embla__lazy-load__spinner'));\\n    const imageNodes = slideNodes.map((slideNode) => slideNode.querySelector('.embla__lazy-load__img'));\\n    \\n    const loadImageInView = (index) => {\\n        const imageNode = imageNodes[index];\\n        const slideNode = slideNodes[index];\\n        const spinnerNode = spinnerNodes[index];\\n        const src = imageNode.getAttribute('data-src');\\n        \\n        imageNode.src = src;\\n        imagesInView.push(index);\\n        \\n        const onLoad = () => {\\n            slideNode.classList.add('embla__lazy-load--has-loaded');\\n            spinnerNode.parentElement?.removeChild(spinnerNode);\\n            imageNode.removeEventListener('load', onLoad);\\n        };\\n        imageNode.addEventListener('load', onLoad);\\n    };\\n    \\n    const loadImagesInView = () => {\\n        emblaApi\\n            .slidesInView()\\n            .filter((index) => !imagesInView.includes(index))\\n            .forEach(loadImageInView);\\n        return imagesInView.length === imageNodes.length;\\n    };\\n    \\n    const loadImagesInViewAndDestroyIfDone = (emblaApi, event) => {\\n        const hasLoadedAll = loadImagesInView();\\n        \\n        if (hasLoadedAll && event) {\\n            emblaApi.off(event.type, loadImagesInViewAndDestroyIfDone);\\n        }\\n    };\\n    \\n    return loadImagesInViewAndDestroyIfDone;\\n};\\n\";"],"names":[],"sourceRoot":""}