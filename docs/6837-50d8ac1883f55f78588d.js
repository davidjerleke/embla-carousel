"use strict";(self.webpackChunkembla_carousel_docs=self.webpackChunkembla_carousel_docs||[]).push([[6837],{16837:function(n,e,t){t.r(e),e.default="\nconst TWEEN_FACTOR_BASE = 0.84;\nlet tweenFactor = 0;\n\nconst numberWithinRange = (number, min, max) => Math.min(Math.max(number, min), max);\n\nconst setTweenFactor = (emblaApi) => {\n    tweenFactor = TWEEN_FACTOR_BASE * emblaApi.snapList().length;\n};\n\nconst tweenOpacity = (emblaApi, event) => {\n    const engine = emblaApi.internalEngine();\n    const scrollProgress = emblaApi.scrollProgress();\n    const slidesInView = emblaApi.slidesInView();\n    const isScrollEvent = event?.type === 'scroll';\n    \n    emblaApi.snapList().forEach((scrollSnap, snapIndex) => {\n        let diffToTarget = scrollSnap - scrollProgress;\n        const slidesInSnap = engine.scrollSnapList.slidesBySnap[snapIndex];\n        \n        slidesInSnap.forEach((slideIndex) => {\n            if (isScrollEvent && !slidesInView.includes(slideIndex))\n                return;\n            \n            if (engine.options.loop) {\n                engine.slideLooper.loopPoints.forEach((loopItem) => {\n                    const target = loopItem.target();\n                    \n                    if (slideIndex === loopItem.index && target !== 0) {\n                        const sign = Math.sign(target);\n                        \n                        if (sign === -1) {\n                            diffToTarget = scrollSnap - (1 + scrollProgress);\n                        }\n                        if (sign === 1) {\n                            diffToTarget = scrollSnap + (1 - scrollProgress);\n                        }\n                    }\n                });\n            }\n            \n            const tweenValue = 1 - Math.abs(diffToTarget * tweenFactor);\n            const opacity = numberWithinRange(tweenValue, 0, 1).toString();\n            emblaApi.slideNodes()[slideIndex].style.opacity = opacity;\n        });\n    });\n};\n\nexport const setupTweenOpacity = (emblaApi) => {\n    setTweenFactor(emblaApi);\n    tweenOpacity(emblaApi);\n    \n    emblaApi\n        .on('reinit', setTweenFactor)\n        .on('reinit', tweenOpacity)\n        .on('scroll', tweenOpacity)\n        .on('slidefocus', tweenOpacity);\n};\n"}}]);
//# sourceMappingURL=6837-50d8ac1883f55f78588d.js.map