{"version":3,"file":"957-cf23ea7ccfca10ad20ae.js","mappings":"uIAAA,ywE","sources":["webpack://embla-carousel-docs/./src/components/Sandbox/Vanilla/SandboxFilesDist/Predefined/Parallax/EmblaCarouselTweenParallax.js"],"sourcesContent":["export default \"\\nconst TWEEN_FACTOR_BASE = 0.2;\\nlet tweenFactor = 0;\\nlet tweenNodes = [];\\n\\nconst setTweenNodes = (emblaApi) => {\\n    tweenNodes = emblaApi.slideNodes().map((slideNode) => {\\n        return slideNode.querySelector('.embla__parallax__layer');\\n    });\\n};\\n\\nconst setTweenFactor = (emblaApi) => {\\n    tweenFactor = TWEEN_FACTOR_BASE * emblaApi.snapList().length;\\n};\\n\\nconst tweenParallax = (emblaApi, event) => {\\n    const engine = emblaApi.internalEngine();\\n    const scrollProgress = emblaApi.scrollProgress();\\n    const slidesInView = emblaApi.slidesInView();\\n    const isScrollEvent = event?.type === 'scroll';\\n    \\n    emblaApi.snapList().forEach((scrollSnap, snapIndex) => {\\n        let diffToTarget = scrollSnap - scrollProgress;\\n        const slidesInSnap = engine.scrollSnapList.slidesBySnap[snapIndex];\\n        \\n        slidesInSnap.forEach((slideIndex) => {\\n            if (isScrollEvent && !slidesInView.includes(slideIndex))\\n                return;\\n            \\n            if (engine.options.loop) {\\n                engine.slideLooper.loopPoints.forEach((loopItem) => {\\n                    const target = loopItem.target();\\n                    \\n                    if (slideIndex === loopItem.index && target !== 0) {\\n                        const sign = Math.sign(target);\\n                        \\n                        if (sign === -1) {\\n                            diffToTarget = scrollSnap - (1 + scrollProgress);\\n                        }\\n                        if (sign === 1) {\\n                            diffToTarget = scrollSnap + (1 - scrollProgress);\\n                        }\\n                    }\\n                });\\n            }\\n            \\n            const translate = diffToTarget * (-1 * tweenFactor) * 100;\\n            const tweenNode = tweenNodes[slideIndex];\\n            tweenNode.style.transform = `translateX(${translate}%)`;\\n        });\\n    });\\n};\\n\\nexport const setupTweenParallax = (emblaApi) => {\\n    setTweenNodes(emblaApi);\\n    setTweenFactor(emblaApi);\\n    tweenParallax(emblaApi);\\n    \\n    emblaApi\\n        .on('reinit', setTweenNodes)\\n        .on('reinit', setTweenFactor)\\n        .on('reinit', tweenParallax)\\n        .on('scroll', tweenParallax)\\n        .on('slidefocus', tweenParallax);\\n};\\n\";"],"names":[],"sourceRoot":""}