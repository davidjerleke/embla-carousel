{"version":3,"file":"6514-c5c5396cdcc21de55593.js","mappings":"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","sources":["webpack://embla-carousel-docs/./src/components/Sandbox/React/SandboxFilesSrc/Predefined/IosPicker/EmblaCarouselIosPickerItem.tsx","webpack://embla-carousel-docs/./src/components/Sandbox/React/SandboxFilesSrc/Predefined/IosPicker/EmblaCarousel.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react'\nimport { EmblaCarouselType } from 'embla-carousel'\nimport useEmblaCarousel from 'embla-carousel-react'\n\nconst CIRCLE_DEGREES = 360\nconst WHEEL_ITEM_SIZE = 32\nconst WHEEL_ITEM_COUNT = 18\nconst WHEEL_ITEMS_IN_VIEW = 4\n\nexport const WHEEL_ITEM_RADIUS = CIRCLE_DEGREES / WHEEL_ITEM_COUNT\nexport const IN_VIEW_DEGREES = WHEEL_ITEM_RADIUS * WHEEL_ITEMS_IN_VIEW\nexport const WHEEL_RADIUS = Math.round(\n  WHEEL_ITEM_SIZE / 2 / Math.tan(Math.PI / WHEEL_ITEM_COUNT)\n)\n\nconst isInView = (wheelLocation: number, slidePosition: number): boolean =>\n  Math.abs(wheelLocation - slidePosition) < IN_VIEW_DEGREES\n\nconst setSlideStyles = (\n  emblaApi: EmblaCarouselType,\n  index: number,\n  loop: boolean,\n  slideCount: number,\n  totalRadius: number\n): void => {\n  const slideNode = emblaApi.slideNodes()[index]\n  const wheelLocation = emblaApi.scrollProgress() * totalRadius\n  const positionDefault = emblaApi.snapList()[index] * totalRadius\n  const positionLoopStart = positionDefault + totalRadius\n  const positionLoopEnd = positionDefault - totalRadius\n\n  let inView = false\n  let angle = index * -WHEEL_ITEM_RADIUS\n\n  if (isInView(wheelLocation, positionDefault)) {\n    inView = true\n  }\n\n  if (loop && isInView(wheelLocation, positionLoopEnd)) {\n    inView = true\n    angle = -CIRCLE_DEGREES + (slideCount - index) * WHEEL_ITEM_RADIUS\n  }\n\n  if (loop && isInView(wheelLocation, positionLoopStart)) {\n    inView = true\n    angle = -(totalRadius % CIRCLE_DEGREES) - index * WHEEL_ITEM_RADIUS\n  }\n\n  if (inView) {\n    slideNode.style.opacity = '1'\n    slideNode.style.transform = `translateY(-${\n      index * 100\n    }%) rotateX(${angle}deg) translateZ(${WHEEL_RADIUS}px)`\n  } else {\n    slideNode.style.opacity = '0'\n    slideNode.style.transform = 'none'\n  }\n}\n\nexport const setContainerStyles = (\n  emblaApi: EmblaCarouselType,\n  wheelRotation: number\n): void => {\n  emblaApi.containerNode().style.transform = `translateZ(${WHEEL_RADIUS}px) rotateX(${wheelRotation}deg)`\n}\n\ntype PropType = {\n  loop?: boolean\n  label: string\n  slideCount: number\n  perspective: 'left' | 'right'\n}\n\nexport const IosPickerItem = (props: PropType) => {\n  const { slideCount, perspective, label, loop = false } = props\n  const [emblaRef, emblaApi] = useEmblaCarousel({\n    loop,\n    axis: 'y',\n    dragFree: true,\n    containScroll: false,\n    slideChanges: false\n  })\n  const rootNodeRef = useRef<HTMLDivElement>(null)\n  const totalRadius = slideCount * WHEEL_ITEM_RADIUS\n  const rotationOffset = loop ? 0 : WHEEL_ITEM_RADIUS\n  const slides = Array.from(Array(slideCount).keys())\n\n  const inactivateEmblaTransform = useCallback(\n    (emblaApi: EmblaCarouselType) => {\n      if (!emblaApi) return\n\n      const { translate, slideTranslates } = emblaApi.internalEngine()\n      const translates = [translate, ...slideTranslates]\n\n      translates.forEach((translate) => {\n        translate.clear()\n        translate.toggleActive(false)\n      })\n    },\n    []\n  )\n\n  const rotateWheel = useCallback(\n    (emblaApi: EmblaCarouselType) => {\n      const rotation = slideCount * WHEEL_ITEM_RADIUS - rotationOffset\n      const wheelRotation = rotation * emblaApi.scrollProgress()\n      setContainerStyles(emblaApi, wheelRotation)\n      emblaApi.slideNodes().forEach((_, index) => {\n        setSlideStyles(emblaApi, index, loop, slideCount, totalRadius)\n      })\n    },\n    [slideCount, rotationOffset, totalRadius]\n  )\n\n  useEffect(() => {\n    if (!emblaApi) return\n\n    emblaApi.on('pointerup', (emblaApi) => {\n      const { scrollTo, target, location } = emblaApi.internalEngine()\n      const displacement = target.minus(location)\n      const factor = Math.abs(displacement) < WHEEL_ITEM_SIZE / 2.5 ? 10 : 0.1\n      const distance = displacement * factor\n      scrollTo.distance(distance, true)\n    })\n\n    emblaApi.on('scroll', rotateWheel)\n\n    emblaApi.on('reinit', (emblaApi) => {\n      inactivateEmblaTransform(emblaApi)\n      rotateWheel(emblaApi)\n    })\n\n    inactivateEmblaTransform(emblaApi)\n    rotateWheel(emblaApi)\n  }, [emblaApi, inactivateEmblaTransform, rotateWheel])\n\n  return (\n    <div className=\"embla__ios-picker\">\n      <div className=\"embla__ios-picker__scene\" ref={rootNodeRef}>\n        <div\n          className={`embla__ios-picker__viewport embla__ios-picker__viewport--perspective-${perspective}`}\n          ref={emblaRef}\n        >\n          <div className=\"embla__ios-picker__container\">\n            {slides.map((_, index) => (\n              <div className=\"embla__ios-picker__slide\" key={index}>\n                {index}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      <div className=\"embla__ios-picker__label\">{label}</div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { EmblaOptionsType } from 'embla-carousel'\nimport { IosPickerItem } from './EmblaCarouselIosPickerItem'\n\ntype PropType = {\n  options: EmblaOptionsType\n}\n\nconst EmblaCarousel = (props: PropType) => {\n  const { loop } = props.options\n\n  return (\n    <div className=\"embla\">\n      <IosPickerItem\n        slideCount={24}\n        perspective=\"left\"\n        loop={loop}\n        label=\"hours\"\n      />\n      <IosPickerItem\n        slideCount={60}\n        perspective=\"right\"\n        loop={loop}\n        label=\"min\"\n      />\n    </div>\n  )\n}\n\nexport default EmblaCarousel\n"],"names":["WHEEL_ITEM_RADIUS","CIRCLE_DEGREES","WHEEL_RADIUS","Math","round","WHEEL_ITEM_SIZE","tan","PI","isInView","wheelLocation","slidePosition","abs","IosPickerItem","props","slideCount","perspective","label","loop","emblaRef","emblaApi","useEmblaCarousel","axis","dragFree","containScroll","slideChanges","rootNodeRef","useRef","totalRadius","rotationOffset","slides","Array","from","keys","inactivateEmblaTransform","useCallback","translate","slideTranslates","internalEngine","concat","_toConsumableArray","forEach","clear","toggleActive","rotateWheel","wheelRotation","scrollProgress","setContainerStyles","containerNode","style","transform","slideNodes","_","index","setSlideStyles","slideNode","positionDefault","snapList","positionLoopStart","positionLoopEnd","inView","angle","opacity","useEffect","on","scrollTo","target","location","displacement","minus","distance","React","className","ref","map","key","options"],"sourceRoot":""}